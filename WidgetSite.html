<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Homework Assistant - Prototype</title>
  <link rel="stylesheet" href="WidgetStyle.css">
</head>
<body>

  <div class="section" id="update">
    <h2>Progress so far</h2>
    <p>My personal notes goes here.</p>
    <p>For now, just get the chatbox below to run</p>
    <textarea rows="5" placeholder="Write your notes here..."></textarea>
  </div>

  <div class="section" id="AI-chatbox">
    <h2>AI Interaction Window</h2>
    <input type="text" id="userInput" placeholder="Ask the AI a question..." />
    <button onclick="userInteraction()">Send</button>
    <div id="response"></div>
  </div>

  <!-- This is a comment -->
 <script>
      //this array contains a series of placeholder answers, in place of the AI output, which is WOP
  const arrayOfAnswers = [`I cannot provide an answer to this`,`Can you specify your request a bit more`,`Try to look up the answer on wikipedia`,`This question is not in the curriculum`,`This is an easy answer, if you think about it`]
   async function userInteraction() {
      // take the input from the userface box and await it before the function is activated
      const userInput = document.getElementById("userInput").value;
      const aiResponse = await fakeAIResponse(userInput);

      // Show the response
      document.getElementById("response").innerHTML = "<strong>AI:</strong> " + aiResponse;
  
    // This asynch function simulates a delay, like a real AI would. It then 
    async function fakeAIResponse(message) {
      return new Promise((resolve) => {
        const AIanswer = arrayOfAnswers[Math.floor(Math.random() * arrayOfAnswers.length)];
        setTimeout(() => {
          response.innerHTML = AIanswer;
         }, 600);
      })
    }
  }
  // event listener for using the "enter" button, alternative to using the chat button (needs to be combined)
   document.getElementById("userInput").addEventListener("keydown", function(event) {
    if (event.key === "Enter") {
      userInteraction();
    }
  });
</script>

</body>
</html>
